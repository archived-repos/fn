/*! jstool-core 2015-01-18 */
!function(){"use strict";var a=function(a,b){window.console[a].apply(window.console,b)},b=function(){},c=b,d=function(){c("log",Array.prototype.slice.call(arguments))};["info","warn","debug","error"].forEach(function(a){d[a]=void 0!==window.console?function(){c(a,Array.prototype.slice.call(arguments))}:b}),d.enable=function(e){e=void 0===e?!0:e,c=e&&void 0!==window.console?a:b,d("log is enabled")},d.clear=function(){d.history=[],window.console&&console.clear()},"true"===document.documentElement.getAttribute("data-log")&&d.enable(),window.log=d}(),function(){"use strict";function a(b,c){if(c)a.define(b,c);else{if(e.isArray(b))return f[b];if(e.isString(b))return f[b];a.run(b)}}function b(a,b){h[a]=h[a]||[],h[a].push(b)}function c(a){var b=f[a];if(e.isArray(h[a]))for(var c=0,d=h[a].length;d>c;c++)h[a][c](b)}var d="undefined"==typeof window?module.exports:window,e={isFunction:function(a){return a instanceof Function},isArray:function(a){return a instanceof Array},isString:function(a){return"string"==typeof a},isNumber:function(a){return a instanceof Number},isObject:function(a,b){return a instanceof Object?"any"===b?!0:typeof a===(b||"object"):!1},key:function(a,b,c){if(!a instanceof Object)return!1;var d,e=b.split("."),f=a||{};if(void 0!==c){if(e.length){for(d=e.shift(),next_key=e.shift();next_key;)a[d]||(a[d]={}),a=a[d],d=next_key,next_key=e.shift();a[d]=c}return c}for(var g=0,h=e.length;h>g;g++){if(d=e[g],!(d in f))return!1;f=f[e[g]]||{}}return f},keys:Object.keys,globalize:function(a,b){if(b)d[a]=b;else if(a)d[a]=f[a];else for(a in f)d[a]=f[a]}},f={_:e},g=/^function[^\(]\(([^\)]*)/,h={};a.waiting={},a.run=function(b,c){e.isArray(b)?void 0===c&&(c=b.pop()):e.isFunction(b)&&(c=b,b=c.toString().match(g)[1].split(",")||[]),c instanceof Function&&a.require(b,c)},a.define=function(b,d,h){if(e.isString(b)){e.isArray(d)?void 0===h&&(h=d.pop()):e.isFunction(d)&&(h=d,d=[],h.toString().replace(g,function(a,b){b=b.replace(/\s/g,""),b&&b.replace(/([^,]+),?/,function(a,b){d.push(b)})})),a.waiting[b]=d,a.require(d,function(){f[b]=h.apply(f,arguments),log("fn defined: ",b),c(b),delete a.waiting[b]})}},a.require=function(c,d){if(!e.isFunction(d))return!1;var g=function(){for(var a=0,b=c.length,e=[];b>a;a++)c[a]&&e.push(f[c[a]]);d.apply(f,e)};if(g.pending=0,g._try=function(){g.pending--,g.pending||g()},g._add=function(c){f[c]||(g.pending++,a.defer(function(){f[c]?g._try():b(c,g._try)}))},e.isString(c)&&(c=[c]),e.isArray(c))if(c.length){for(var h=0,i=c.length;i>h;h++)c[h]&&g._add(c[h]);g.pending||g()}else g()},a.when=function(a,c){e.isFunction(c)&&(f[a]?c.apply(context,f[a]):b(a,function(a){c.apply(context,a)}))},a.defer=function(a,b){setTimeout(a,b||0)},a.globalize=e.globalize,e.globalize("fn",a),a.load=window.addEventListener?function(a){window.addEventListener("load",a,!1)}:function(a){window.attachEvent("onload",a)},a.load(function(){var b,c,d,e,g={};for(c in a.waiting)for(b=a.waiting[c],g[c]=[],d=0,e=b.length;e>d;d++)f[b[d]]||g[c].push(b[d]);if(Object.keys(g).length){console.group("missing dependencies");for(c in g)log(c,g[c]);console.groupEnd()}})}();