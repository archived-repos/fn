/*! jstool-core 2015-03-25 */
!function(){"use strict";var a=function(a,b){window.console[a].apply(window.console,b)},b=function(){},c=b,d=function(){c("log",Array.prototype.slice.call(arguments))};["info","warn","debug","error"].forEach(function(a){d[a]=void 0!==window.console?function(){c(a,Array.prototype.slice.call(arguments))}:b}),d.enable=function(e){e=void 0===e?!0:e,c=e&&void 0!==window.console?a:b,d("log is enabled")},d.clear=function(){d.history=[],window.console&&console.clear()},"true"===document.documentElement.getAttribute("data-log")&&d.enable(),window.log=d}(),function(){"use strict";function a(b,c,d){return f.isString(b)?void 0===c?g[b]:a.define(b,c,d):(a.run(b,c,d),a)}function b(a,b){i[a]=i[a]||[],i[a].push(b)}function c(a){var b=g[a];if(f.isArray(i[a]))for(var c=0,d=i[a].length;d>c;c++)i[a][c](b)}function d(b,d){g[b]=d,log.debug("fn defined: ",b),c(b),delete a.waiting[b]}var e="undefined"==typeof window?module.exports:window,f={isFunction:function(a){return a instanceof Function},isArray:function(a){return a instanceof Array},isString:function(a){return"string"==typeof a},isNumber:function(a){return a instanceof Number},isObject:function(a,b){return a instanceof Object?"any"===b?!0:typeof a===(b||"object"):!1},key:function(a,b,c){if(!a instanceof Object)return!1;var d,e=b.split("."),f=a||{};if(void 0!==c){if(e.length){for(d=e.shift(),next_key=e.shift();next_key;)a[d]||(a[d]={}),a=a[d],d=next_key,next_key=e.shift();a[d]=c}return c}for(var g=0,h=e.length;h>g;g++){if(d=e[g],!(d in f))return!1;f=f[e[g]]||{}}return f},keys:Object.keys,globalize:function(a,b){if(b)e[a]=b;else if(a)e[a]=g[a];else for(a in g)e[a]=g[a]}},g={_:f},h=/^function[^\(]\(([^\)]*)/,i={};a.waiting={},a.run=function(b,c,d){return f.isArray(b)?void 0===c&&(c=b.pop()):f.isFunction(b)&&(d=c,c=b,b=c.toString().match(h)[1].split(",")||[]),c instanceof Function&&a.require(b,c,d),a},a.define=function(b,c,e){if(f.isString(b)){f.isArray(c)?void 0===e&&(e=c.pop()):f.isFunction(c)&&(e=c,c=[],e.toString().replace(h,function(a,b){b=b.replace(/\s/g,""),b&&b.replace(/([^,]+),?/,function(a,b){c.push(b)})})),a.waiting[b]=c,a.require(c,function(){var a=e.apply(g,arguments);a&&a.then instanceof Function?a.then(function(a){setTimeout(function(){d(b,a)},0)}):d(b,a)})}return a},a.require=function(c,d,e){if(!f.isFunction(d))return!1;var h=function(){for(var a=0,b=c.length,f=[];b>a;a++)c[a]&&f.push(g[c[a]]);d.apply(e||g,f)};if(h.pending=0,h._try=function(){h.pending--,h.pending||h()},h._add=function(c){g[c]||(h.pending++,a.defer(function(){g[c]?h._try():b(c,h._try)}))},f.isString(c)&&(c=[c]),f.isArray(c))if(c.length){for(var i=0,j=c.length;j>i;i++)c[i]&&h._add(c[i]);h.pending||h()}else h();return a},a.when=function(c,d){return f.isFunction(d)&&(g[c]?d.apply(context,g[c]):b(c,function(a){d.apply(context,a)})),a},a.defer=function(b,c){return setTimeout(b,c||0),a},a.globalize=f.globalize,f.globalize("fn",a),a.load=window.addEventListener?function(b){return window.addEventListener("load",b,!1),a}:function(b){return window.attachEvent("onload",b),a},a.ready=function(b){b instanceof Function&&(/loaded|complete/.test(document.readyState)?b():a.load(b))},a.ready(function(){var b,c,d,e,f={};for(c in a.waiting)for(b=a.waiting[c],f[c]=[],d=0,e=b.length;e>d;d++)g[b[d]]||f[c].push(b[d]);if(Object.keys(f).length){console.group("missing dependencies");for(c in f)log(c,f[c]);console.groupEnd()}})}();