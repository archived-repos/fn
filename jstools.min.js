/*! jstools 2014-11-15 */
!function(){"use strict";var a=function(a,b){window.console[a].apply(window.console,b)},b=function(){},c=b,d=function(){c("log",Array.prototype.slice.call(arguments))};["info","warn","debug","error"].forEach(function(a){d[a]=void 0!==window.console?function(){c(a,Array.prototype.slice.call(arguments))}:b}),d.enable=function(e){e=void 0===e?!0:e,c=e&&void 0!==window.console?a:b,d("log is enabled")},d.clear=function(){d.history=[],window.console&&console.clear()},window.enableLog&&d.enable(),window.log=d}(),function(){"use strict";function a(b,c){return c&&a.define(b,c),e[b]}function b(a,b){h[a]=h[a]||[],h[a].push(b)}function c(a){if(d.isArray(h[a]))for(var b=0,c=h[a].length;c>b;b++)h[a][b]()}var d={isFunction:function(a){return a instanceof Function},isArray:function(a){return a instanceof Array},isString:function(a){return"string"==typeof a},isNumber:function(a){return a instanceof Number},isObject:function(a,b){return a instanceof Object?"any"===b?!0:typeof a===(b||"object"):!1},key:function(a,b,c){if(!a instanceof Object)return!1;var d=b.split("."),e=a||{};if(void 0!==c){if(d.length){for(var f,g=d.shift();f=d.shift();)a[g]||(a[g]={}),a=a[g],g=f;a[g]=c}return c}for(var g,h=0,i=d.length;i>h;h++){if(g=d[h],!(g in e))return!1;e=e[d[h]]||{}}return e},keys:Object.keys},e={_:d},f=/^function[^\(]\(([^\)]*)/,g=function(a,b){return!Object.keys(a).length&&d.isFunction(b)?(b(),!0):!1},h={};a.run=function(b){var c;d.isArray(b)?c=b.pop():d.isFunction(b)&&(c=b,b=c.toString().match(f)[1].split(",")),a.require(b,function(){c.apply(e,this.injections)})},a.define=function(b,g){if(d.isString(b)){var h;d.isArray(g)?h=g.pop():d.isFunction(g)&&(h=g,g=[],h.toString().replace(f,function(a,b){b=b.replace(/\s/g,""),b&&b.replace(/([^,]+),?/,function(a,b){g.push(b)})})),a.require(g,function(){e[b]=h.apply(e,this.injections),c(b),log("fn defined: ",b)})}},a.require=function(b,c){if(!d.isFunction(c))return!1;var f=function(){for(var a=[],d=0,f=b.length;f>d;d++)a.push(e[b[d]]);c.call({injections:a})};if(d.isArray(b))if(b.length){for(var h={},i=0,j=b.length;j>i;i++)e[b[i]]||(h[b[i]]=!0);g(h,f)||b.forEach(function(b){a.when(b,function(){delete h[b],g(h,f)})})}else f();else d.isString(b)&&a.when(b,f)},a.when=function(a,c){d.isFunction(c)&&(e[a]?c():b(a,c))},a.defer=function(a){d.isFunction(a)&&setTimeout(a,0)},window.fn=a}(),fn.define("Events",function(){"use strict";function a(a,b,c){return!b instanceof Function?!1:void a.push({handler:b,context:c})}function b(a,b,c){if(a){for(var d=0,e=a.length;e>d;d++)a[d].handler.call(c,b);return e}}function c(a){a&&a.splice(0,a.length)}function d(a,b){if(a)for(var c=0,d=a.length;d>c;)a[c].handler===b?(a.splice(c,1),d--):c++}function e(e){e=e||this;var f={},g={};e.on=function(b,c,d){f[b]=f[b]||[],a(f[b],c,d)},e.once=function(b,c,d){g[b]=g[b]||[],a(g[b],c,d)},e.trigger=function(a,c,d){b(f[a],c,d);var e=b(g[a],c,d);e&&g[a].splice(0,e)},e.off=function(a,b){void 0===b?(c(f[a]),c(g[a])):(d(f[a],b),d(g[a],b))}}return e}),fn.define("$",function(_){"use strict";function listDOM(a){isString(a)?RE_HAS_SPACES.test(a)?[].push.apply(this,document.querySelectorAll(a)):RE_ONLY_LETTERS.test(a)?[].push.apply(this,document.getElementsByTagName(a)):RE_IS_ID.test(a)?[].push.call(this,document.getElementById(a.substr(1))):RE_IS_CLASS.test(a)?[].push.apply(this,document.getElementsByClassName(a.substr(1))):[].push.apply(this,document.querySelectorAll(a)):a instanceof Array?[].push.apply(this,a):a instanceof NodeList?[].push.apply(this,a):a instanceof HTMLCollection?[].push.apply(this,a):a instanceof Element?[].push.call(this,a):a===document&&[].push.call(this,a)}var RE_HAS_SPACES=/\s/,RE_ONLY_LETTERS=/^[a-zA-Z]+$/,RE_IS_ID=/^\#.+/,RE_IS_CLASS=/^\..+/;return listDOM.prototype=new Array,listDOM.prototype.isdom=function(){},listDOM.fn=function(a,b,c){_.isString(a)?(_.isFunction(b)&&(Element.prototype[a]||(Element.prototype[a]=b)),_.isFunction(c)&&(listDOM.prototype[a]=c,NodeList.prototype[a]=c)):_.isObject(a)&&1==arguments.length&&_.keys(a).forEach(function(b){listDOM.fn(b,a[b].element,a[b].collection)})},listDOM.fn({get:{element:function(){return this},collection:function(a){return this[a]}},find:{element:function(){return new listDOM(Element.prototype.querySelectorAll.apply(this,arguments))},collection:function(a){for(var b,c=new listDOM,d=0,e=this.length;e>d;d++){b=this[d].querySelectorAll(a);for(var f=0,g=b.length;g>f;f++)b.item(f).__found||(c.push(b.item(f)),b.item(f).__found=!0)}for(var d=0,e=c.length;e>d;d++)delete c[d].__found;return c}},each:{element:function(a){return isFunction(a)&&a.class(this,this),this},collection:function(a){return isFunction(a)&&Array.prototype.forEach.call(this,a),this}},filter:{element:function(a){return Element.prototype.matchesSelector.call(this,a)?this:!1},collection:function(a){var b=[];return isFunction(a)?(Array.prototype.forEach.call(this,function(c){a.apply(c,[c])&&b.push(c)}),new listDOM(b)):_.isString(a)?(Array.prototype.forEach.call(this,function(c){Element.prototype.matchesSelector.call(c,a)&&b.push(c)}),new listDOM(b)):this}},children:{element:!1,collection:function(a,b){var c=[];return document.body.children?(c=new listDOM,Array.prototype.forEach.call(this,function(a){[].push.apply(c,a.children)}),a&&(isString(a)?c=c.filter(a):isFunction(a)&&c.each(a)),c):(isString(a)?Array.prototype.forEach.call(this,function(b){for(b=b.firstElementChild||b.firstChild;b;)b&&Element.prototype.matchesSelector.call(b,a)&&c.push(b),b=b.nextElementSibling}):isFunction(a)?Array.prototype.forEach.call(this,function(d){for(d=d.firstElementChild||d.firstChild;d;)c.push(d),a.apply(d,b),d=d.nextElementSibling}):Array.prototype.forEach.call(this,function(a){for(a=a.firstElementChild||a.firstChild;a;)c.push(a),a=a.nextElementSibling}),new listDOM(c))}},data:{element:function(a,b){return isString(a)?isString(b)?(null!=this.getAttribute("data-"+a)?this.setAttribute("data-"+a,b):void 0!==this.dataset?this.dataset[a]=b:this.setAttribute("data-"+a,b),this):this.getAttribute("data-"+a)||(this.dataset?this.dataset[a]:!1):this},collection:function(a,b){return isString(a)?isString(b)?(Array.prototype.forEach.call(this,function(c){c.data(a,b)}),this):this[0].data(a):this}},attr:{element:function(a,b){return isString(a)?void 0!==b?(this.setAttribute(a,b),this):this.getAttribute(a):this},collection:function(a,b){return isString(a)?isString(b)?(Array.prototype.forEach.call(this,function(c){c.setAttribute(a,b)}),this):this[0].getAttribute(a):this}},addClass:{element:function(a){this.className||(this.className="");var b=new RegExp("\\b"+a+"\\b","");return b.test(this.className)||(this.className+=" "+a),this},collection:function(a){return Array.prototype.forEach.call(this,function(b){b.addClass(a)}),this}},removeClass:{element:function(a){if(this.className){var b=new RegExp("(\\b|\\s+)"+a+"\\b","g");this.className=this.className.replace(b,"")}return this},collection:function(a){return Array.prototype.forEach.call(this,function(b){b.addClass(a)}),this}},hasClass:{element:function(a){return this.className?(patt=new RegExp("\\b"+a+"\\b",""),patt.test(this.className)):!1},collection:function(a){var b=a.trim().split(" ");a="",b.forEach(function(b){a+="."+b});var c=this.filter(a);return c.length?c:!1}},parent:{element:function(){return this==document.body?!1:this.parentElement||this.parentNode},collection:function(){var a,b=new listDOM;return Array.prototype.forEach.call(this,function(c){a=c.parent(),a&&b.push(a)}),b}},render:{element:function(html){return this.innerHTML=html,this.find("script").each(function(script){if("text/javascript"==script.type)try{eval("(function(){"+script.textContent+"})();")}catch(err){console.log(err.message)}else if(/^text\/coffee(script)/.test(script.type)&&isObject(window.CoffeeScript)&&CoffeeScript.compile instanceof Function)try{eval(CoffeeScript.compile(script.textContent))}catch(err){console.log(err.message)}}),this},collection:function(a){return Array.prototype.forEach.call(this,function(b){b.render(a)}),this}},on:{element:function(a,b){var c=this;if(isString(a))if(isFunction(b)){var d=b;if(b=function(a){d.apply(a.target,[a].concat(a.data))},c.addEventListener)c.addEventListener(a,b,!1);else{if(!c.attachEvent)throw"No es posible a√±adir evento";c.attachEvent("on"+a,b)}c.listeners||(c.listeners={}),c.listeners[a]||(c.listeners[a]=[]),c.listeners[a].push(b)}else if(b===!1&&c.listeners&&c.listeners[a])for(var e=c.listeners[a];b=e.pop();)c.removeEventListener?c.removeEventListener(a,b,!1):c.detachEvent&&c.detachEvent("on"+a,b);return this},collection:function(a,b){return Array.prototype.forEach.call(this,function(c){c.on(a,b)}),this}},off:{element:function(a){this.on(a,!1)},collection:function(a){this.on(a,!1)}},trigger:{element:function(a,b){triggerEvent(this,a,!1,b)},collection:function(a,b){Array.prototype.forEach.call(this,function(c){triggerEvent(c,a,!1,b)})}}}),function(a){if(/^\<\w+.*\>$/.test(a)){var b=document.createElement("div");return b.innerHTML=a,new listDOM(b.children)}return new listDOM(a)}});